html
  head
    title Textarea clipboard page
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width,initial-scale:1.0')
    link(rel='stylesheet' href='css/song-printable.min.css')
    link(rel='stylesheet' href='css/chords.min.css')
  body
    textarea(readonly id="textarea") !{data}
    button(onclick="copyToClipboard('textarea')") Copy to clipboard
      script.
        function copyToClipboard(elemId) {
          // Create an auxiliary hidden input
          var aux = document.createElement("input");

          var el = document.getElementById(elemId);
          // Get the text from the element passed into the input
          aux.setAttribute("value", el.value || el.innerHTML);

          // Append the aux input to the body
          document.body.appendChild(aux);

          // Highlight the content
          aux.select();

          // Execute the copy command
          if (document.execCommand("copy")) {
            alert('Copied to clipboard!');
          }

          // Remove the input from the body
          document.body.removeChild(aux);
        }